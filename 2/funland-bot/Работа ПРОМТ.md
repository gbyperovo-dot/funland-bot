–ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö –≤ knowledge_base.json –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ knowledge.csv, –º–æ–∂–Ω–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç csv_to_json.py. –í–æ—Ç –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è, –∫–æ—Ç–æ—Ä–∞—è —Å–Ω–∞—á–∞–ª–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π JSON (–µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å), –∞ –∑–∞—Ç–µ–º –æ–±–Ω–æ–≤–ª—è–µ—Ç –µ–≥–æ –Ω–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ CSV:

python
# csv_to_json.py
import csv
import json
import re
import os
from collections import OrderedDict

def clean_text(text):
    """–û—á–∏—Å—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è"""
    if not text or text == 'None':
        return ""
    # –ó–∞–º–µ–Ω—è–µ–º <br> –Ω–∞ –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫
    text = text.replace('<br>', '\n')
    # –£–¥–∞–ª—è–µ–º –ª–∏—à–Ω–∏–µ –∫–∞–≤—ã—á–∫–∏
    text = re.sub(r'"+', '"', text)
    # –°—Ö–ª–æ–ø—ã–≤–∞–µ–º –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫
    text = re.sub(r'\n+', '\n', text)
    return text.strip()

def parse_csv_to_dict(csv_path):
    """–ü–∞—Ä—Å–∏–Ω–≥ CSV –≤ —Å–ª–æ–≤–∞—Ä—å —Å –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ–º –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤"""
    knowledge = OrderedDict()
    current_key = None
    current_value = []
    
    with open(csv_path, 'r', encoding='utf-8-sig') as f:
        reader = csv.reader(f, delimiter=';')
        
        # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫
        header = next(reader)
        if len(header) < 2:
            raise ValueError("CSV –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 2 —Å—Ç–æ–ª–±—Ü–∞")

        for row in reader:
            if len(row) < 2:
                continue
                
            key = clean_text(row[0])
            value = clean_text(row[1])

            if key:  # –ù–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å
                if current_key:  # –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π
                    knowledge[current_key] = '\n'.join(current_value)
                current_key = key.lower()
                current_value = [value] if value else []
            elif value:  # –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞
                current_value.append(value)
    
    # –î–æ–±–∞–≤–ª—è–µ–º –ø–æ—Å–ª–µ–¥–Ω—é—é –∑–∞–ø–∏—Å—å
    if current_key:
        knowledge[current_key] = '\n'.join(current_value)
    
    return knowledge

def main():
    input_csv = "knowledge.csv"
    output_json = "knowledge_base.json"
    
    try:
        # –ó–∞–≥—Ä—É–∂–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π JSON, –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å
        existing_data = {}
        if os.path.exists(output_json):
            with open(output_json, 'r', encoding='utf-8') as f:
                existing_data = json.load(f)
        
        print("üîç –ß—Ç–µ–Ω–∏–µ CSV —Ñ–∞–π–ª–∞...")
        new_data = parse_csv_to_dict(input_csv)
        
        # –û–±—ä–µ–¥–∏–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ (–Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ)
        merged_data = {**existing_data, **new_data}
        
        print("üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ JSON...")
        with open(output_json, 'w', encoding='utf-8') as f:
            json.dump(merged_data, f, ensure_ascii=False, indent=2)
        
        print(f"‚úÖ –£—Å–ø–µ—à–Ω–æ! –û–±–Ω–æ–≤–ª—ë–Ω —Ñ–∞–π–ª: {output_json}")
        print(f"üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:")
        print(f"- –í—Å–µ–≥–æ –≤–æ–ø—Ä–æ—Å–æ–≤: {len(merged_data)}")
        print(f"- –ù–æ–≤—ã—Ö/–æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤: {len(new_data)}")
        print(f"- –ü—Ä–∏–º–µ—Ä: {next(iter(merged_data.items()))}")
        
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞: {type(e).__name__}")
        print(f"–°–æ–æ–±—â–µ–Ω–∏–µ: {str(e)}")
        print("\nüí° –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:")
        print("1. –ù–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–∞ knowledge.csv")
        print("2. –ß—Ç–æ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –≤ CSV - —Ç–æ—á–∫–∞ —Å –∑–∞–ø—è—Ç–æ–π (;)")
        print("3. –ß—Ç–æ –≤ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–µ –µ—Å—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏ —Å—Ç–æ–ª–±—Ü–æ–≤")

if __name__ == "__main__":
    main()
–ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
–ó–∞–≥—Ä—É–∑–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ JSON: –°–∫—Ä–∏–ø—Ç —Ç–µ–ø–µ—Ä—å —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ knowledge_base.json –∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ.

–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö: –ù–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ CSV –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏. –ï—Å–ª–∏ –≤–æ–ø—Ä–æ—Å —É–∂–µ –µ—Å—Ç—å –≤ JSON, –æ–Ω –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª—ë–Ω –Ω–æ–≤—ã–º –æ—Ç–≤–µ—Ç–æ–º –∏–∑ CSV.

–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: –í—ã–≤–æ–¥–∏—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—Å–µ—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–æ–≤—ã—Ö/–æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π.

–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤—ã–π JSON-—Ñ–∞–π–ª.

–ü—Ä–∏ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–ø—É—Å–∫–∞—Ö —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è, –∞ –Ω–æ–≤—ã–µ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∏–ª–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è.

–ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Ä–∞–∑—Ä–µ—à–∞—é—Ç—Å—è –≤ –ø–æ–ª—å–∑—É –¥–∞–Ω–Ω—ã—Ö –∏–∑ CSV (–Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç —Å—Ç–∞—Ä—ã–µ).

–≠—Ç–æ —Ä–µ—à–µ–Ω–∏–µ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≥–∏–±–∫–æ—Å—Ç—å –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

–æ—Ç–ª–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç, –¥–∞–≤–∞–π —Ä–µ—à–∏–º –∫–∞–∫ –º–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å knowledge_base.json, —á—Ç–æ –±—ã —ç—Ç–æ –±—ã–ª–æ —É–¥–æ–±–Ω–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
–ß—Ç–æ–±—ã –æ–ø–µ—Ä–∞—Ç–æ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –º–æ–≥ —É–¥–æ–±–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å knowledge_base.json, –ø—Ä–µ–¥–ª–∞–≥–∞—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω –∏–∑ –¥–≤—É—Ö –ø–æ–¥—Ö–æ–¥–æ–≤ (–∏–ª–∏ –æ–±–∞ —Å—Ä–∞–∑—É):

1. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Excel/CSV (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ø–æ—Å–æ–±)
–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

–ó–Ω–∞–∫–æ–º—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ç–∞–±–ª–∏—Ü

–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤

–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π (Git)

–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç json_to_csv.py –¥–ª—è –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–µ–π –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏:
python
# json_to_csv.py
import json
import csv
from collections import OrderedDict

def json_to_csv(json_path, csv_path):
    """–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç JSON –æ–±—Ä–∞—Ç–Ω–æ –≤ CSV –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è"""
    with open(json_path, 'r', encoding='utf-8') as f:
        data = json.load(f, object_pairs_hook=OrderedDict)
    
    with open(csv_path, 'w', encoding='utf-8-sig', newline='') as f:
        writer = csv.writer(f, delimiter=';')
        writer.writerow(["Question", "Answer"])  # –ó–∞–≥–æ–ª–æ–≤–∫–∏
        for question, answer in data.items():
            # –≠–∫—Ä–∞–Ω–∏—Ä—É–µ–º –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫ –¥–ª—è CSV
            answer_cleaned = answer.replace('\n', '<br>')
            writer.writerow([question, answer_cleaned])
    
    print(f"‚úÖ JSON –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –≤ {csv_path}. –†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –µ–≥–æ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ csv_to_json.py")

if __name__ == "__main__":
    json_to_csv("knowledge_base.json", "knowledge_edit.csv")
–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

–ó–∞–ø—É—Å—Ç–∏—Ç—å json_to_csv.py ‚Üí —Å–æ–∑–¥–∞—Å—Ç—Å—è knowledge_edit.csv.

–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å CSV –≤ Excel/Google Sheets/Notepad++.

–ó–∞–ø—É—Å—Ç–∏—Ç—å csv_to_json.py ‚Üí –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—Ç—Å—è.

–°–æ–≤–µ—Ç: –î–æ–±–∞–≤—å—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã –≤ .bat-—Ñ–∞–π–ª—ã –¥–ª—è Windows –∏–ª–∏ .sh –¥–ª—è Linux:

convert_to_csv.bat:

bat
python json_to_csv.py
pause
convert_to_json.bat:

bat
python csv_to_json.py
pause
2. –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±)
–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

–ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω—ã–π UI

–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –ª–µ—Ç—É

–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∏—Å–∫ –ø–æ –≤–æ–ø—Ä–æ—Å–∞–º

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π Flask-—Å–µ—Ä–≤–µ—Ä (editor_app.py):
python
# editor_app.py
from flask import Flask, request, render_template, redirect, jsonify
import json
import os

app = Flask(__name__)
JSON_PATH = "knowledge_base.json"

def load_data():
    if not os.path.exists(JSON_PATH):
        return {}
    with open(JSON_PATH, 'r', encoding='utf-8') as f:
        return json.load(f)

def save_data(data):
    with open(JSON_PATH, 'w', encoding='utf-8') as f:
        json.dump(data, f, ensure_ascii=False, indent=2)

@app.route('/')
def index():
    data = load_data()
    return render_template('editor.html', questions=data)

@app.route('/save', methods=['POST'])
def save():
    data = load_data()
    question = request.form['question'].strip().lower()
    answer = request.form['answer'].strip()
    data[question] = answer
    save_data(data)
    return redirect('/')

if __name__ == "__main__":
    app.run(host='0.0.0.0', port=5000, debug=True)
–®–∞–±–ª–æ–Ω templates/editor.html:
html
<!DOCTYPE html>
<html>
<head>
    <title>–†–µ–¥–∞–∫—Ç–æ—Ä –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π</title>
    <style>
        textarea { width: 100%; height: 150px; }
        .question { margin-bottom: 20px; padding: 10px; border: 1px solid #ddd; }
    </style>
</head>
<body>
    <h1>–†–µ–¥–∞–∫—Ç–æ—Ä –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π</h1>
    <form action="/save" method="post">
        <input type="text" name="question" placeholder="–í–æ–ø—Ä–æ—Å" required>
        <textarea name="answer" placeholder="–û—Ç–≤–µ—Ç" required></textarea>
        <button type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    </form>
    <hr>
    <h2>–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã:</h2>
    {% for question, answer in questions.items() %}
    <div class="question">
        <strong>{{ question }}</strong><br>
        <pre>{{ answer }}</pre>
    </div>
    {% endfor %}
</body>
</html>
–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Flask:

bash
pip install flask
–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:

bash
python editor_app.py
–û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5000 –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:
–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:
–î–æ–±–∞–≤—å—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞ –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º:

python
import shutil
shutil.copy2(JSON_PATH, f"backups/{datetime.now().isoformat()}.json")
–ü–æ–∏—Å–∫ –ø–æ –≤–æ–ø—Ä–æ—Å–∞–º:
–í –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å JavaScript-—Ñ–∏–ª—å—Ç—Ä:

html
<input type="text" id="search" placeholder="–ü–æ–∏—Å–∫...">
<script>
    document.getElementById('search').addEventListener('input', function() {
        const searchTerm = this.value.toLowerCase();
        document.querySelectorAll('.question').forEach(q => {
            q.style.display = q.textContent.toLowerCase().includes(searchTerm) ? 'block' : 'none';
        });
    });
</script>
–í–∞–ª–∏–¥–∞—Ü–∏—è:
–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –¥—É–±–ª–∏–∫–∞—Ç—ã –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø—É—Å—Ç—ã–µ –ø–æ–ª—è –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º.

–ò—Ç–æ–≥–æ–≤—ã–π –≤—ã–±–æ—Ä:
–î–ª—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: CSV/Excel + —Å–∫—Ä–∏–ø—Ç—ã.

–î–ª—è –Ω–µ—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

–û–±–∞ –º–µ—Ç–æ–¥–∞ –º–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CSV –¥–ª—è –º–∞—Å—Å–æ–≤–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∞ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –ø—Ä–∞–≤–æ–∫.

–∫—É–¥–∞ –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è ?
–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! –í–æ—Ç –∫—É–¥–∞ –∏ –∫–∞–∫ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –≤ –≤–∞—à—É —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–∑–æ–π –∑–Ω–∞–Ω–∏–π, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –µ—ë –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —É–¥–æ–±–Ω–æ–π –¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞:

1. –í CSV/Excel-–ø–æ–¥—Ö–æ–¥ (–¥–ª—è json_to_csv.py –∏ csv_to_json.py)
–î–æ–±–∞–≤—å—Ç–µ –≤ –Ω–∞—á–∞–ª–æ —Å–∫—Ä–∏–ø—Ç–æ–≤:
python
# –î–æ–±–∞–≤—å—Ç–µ —ç—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –æ–±–∞ —Å–∫—Ä–∏–ø—Ç–∞
import datetime

def create_backup(file_path):
    """–°–æ–∑–¥–∞—ë—Ç —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é —Ñ–∞–π–ª–∞ —Å timestamp"""
    backup_dir = "backups"
    os.makedirs(backup_dir, exist_ok=True)
    timestamp = datetime.datetime.now().strftime("%Y%m%d_%H%M%S")
    backup_name = f"{backup_dir}/{os.path.basename(file_path)}_{timestamp}.bak"
    shutil.copy2(file_path, backup_name)
    print(f"üîê –°–æ–∑–¥–∞–Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è: {backup_name}")
–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ csv_to_json.py:
python
# –í —Ñ—É–Ω–∫—Ü–∏–∏ main() –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º JSON:
create_backup(output_json)  # –î–æ–±–∞–≤—å—Ç–µ —ç—Ç—É —Å—Ç—Ä–æ–∫—É
–£–ª—É—á—à–µ–Ω–∏—è –¥–ª—è CSV:
–ê–≤—Ç–æ—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

python
# –í json_to_csv.py –ø–æ—Å–ª–µ writerow()
print("üí° –°–æ–≤–µ—Ç—ã –ø–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—é CSV:")
print("- –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ —Ñ–æ—Ä–º–∞—Ç: –í–æ–ø—Ä–æ—Å;–û—Ç–≤–µ—Ç")
print("- –î–ª—è –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ —Å—Ç—Ä–æ–∫ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ <br>")
print("- –ù–µ —É–¥–∞–ª—è–π—Ç–µ –ø–µ—Ä–≤—É—é —Å—Ç—Ä–æ–∫—É —Å –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏")
–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤:

python
# –í csv_to_json.py –ø–æ—Å–ª–µ parse_csv_to_dict()
duplicates = [q for q, cnt in Counter(new_data.keys()).items() if cnt > 1]
if duplicates:
    print(f"‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: –ù–∞–π–¥–µ–Ω—ã –¥—É–±–ª–∏–∫–∞—Ç—ã –≤–æ–ø—Ä–æ—Å–æ–≤: {duplicates[:3]}...")
2. –í –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (editor_app.py)
–î–æ–±–∞–≤—å—Ç–µ –≤ Flask-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
python
# –ù–æ–≤—ã–µ endpoint'—ã
@app.route('/delete/<question>')
def delete(question):
    data = load_data()
    if question in data:
        del data[question]
        save_data(data)
    return redirect('/')

@app.route('/search')
def search():
    query = request.args.get('q', '').lower()
    data = {k: v for k, v in load_data().items() if query in k.lower()}
    return render_template('editor.html', questions=data, search_query=query)
–û–±–Ω–æ–≤–∏—Ç–µ —à–∞–±–ª–æ–Ω editor.html:
html
<!-- –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–¥ —Å–ø–∏—Å–∫–æ–º –≤–æ–ø—Ä–æ—Å–æ–≤ -->
<form action="/search" method="get">
    <input type="text" name="q" value="{{ search_query }}" placeholder="–ü–æ–∏—Å–∫...">
    <button type="submit">–ù–∞–π—Ç–∏</button>
</form>

<!-- –í –∫–∞–∂–¥–æ–º –≤–æ–ø—Ä–æ—Å–µ –¥–æ–±–∞–≤—å—Ç–µ –∫–Ω–æ–ø–∫—É —É–¥–∞–ª–µ–Ω–∏—è -->
<div class="question">
    <strong>{{ question }}</strong>
    <a href="/delete/{{ question }}" onclick="return confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –≤–æ–ø—Ä–æ—Å?')" style="color:red;">[X]</a>
    <pre>{{ answer }}</pre>
</div>
–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏—á–∏:
Markdown-–ø–æ–¥–¥–µ—Ä–∂–∫–∞:

python
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫—É
# pip install markdown
from markdown import markdown

# –í —à–∞–±–ª–æ–Ω–µ –∑–∞–º–µ–Ω–∏—Ç–µ {{ answer }} –Ω–∞:
{{ answer|markdown|safe }}
–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π:

python
# –í save_data()
with open("change_log.txt", "a") as log:
    log.write(f"{datetime.now()}: –ò–∑–º–µ–Ω—ë–Ω –≤–æ–ø—Ä–æ—Å '{question}'\n")
3. –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (–¥–ª—è –≤—Å–µ—Ö –ø–æ–¥—Ö–æ–¥–æ–≤)
–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π:
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª audit.log:

python
import logging

logging.basicConfig(
    filename='audit.log',
    level=logging.INFO,
    format='%(asctime)s - %(message)s'
)

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
logging.info(f"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å {user} –∏–∑–º–µ–Ω–∏–ª –≤–æ–ø—Ä–æ—Å: {question}")
–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:
–î–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É –≤ csv_to_json.py:

python
def validate_entry(question, answer):
    if len(question) < 3:
        raise ValueError(f"–°–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π –≤–æ–ø—Ä–æ—Å: '{question}'")
    if not answer.strip():
        raise ValueError(f"–ü—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç –¥–ª—è –≤–æ–ø—Ä–æ—Å–∞: '{question}'")

# –í parse_csv_to_dict() –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º:
validate_entry(key, value)
–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Makefile:
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª Makefile:

makefile
update:
    python json_to_csv.py
    @echo "–†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ knowledge_edit.csv"
    @read -p "–ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤ JSON..."
    python csv_to_json.py

server:
    python editor_app.py
–ì–¥–µ —á—Ç–æ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å:
–£–ª—É—á—à–µ–Ω–∏–µ	CSV/Excel-—Å–∫—Ä–∏–ø—Ç—ã	–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å	–ì–ª–æ–±–∞–ª—å–Ω–æ
–†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏	‚úÖ	‚úÖ	
–ü–æ–∏—Å–∫		‚úÖ	
–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö	‚úÖ	‚úÖ	
–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π		‚úÖ	‚úÖ
–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ			‚úÖ
–£–¥–æ–±–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã	‚úÖ (Makefile)		
–ò—Ç–æ–≥–æ–≤—ã–π —Å–æ–≤–µ—Ç:
–ù–∞—á–Ω–∏—Ç–µ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π:

–î–æ–±–∞–≤—å—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –æ–±–∞ —Å–∫—Ä–∏–ø—Ç–∞.

–í–Ω–µ–¥—Ä–∏—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –ø–æ–∏—Å–∫–æ–º –∏ —É–¥–∞–ª–µ–Ω–∏–µ–º.

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é —á–µ—Ä–µ–∑ Makefile –∏–ª–∏ .bat-—Ñ–∞–π–ª—ã.

–≠—Ç–æ –¥–∞—Å—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä—É –≥–∏–±–∫–æ—Å—Ç—å –≤—ã–±–æ—Ä–∞ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—á–Ω—ã–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º, –∞ —Ç–∞–∫–∂–µ –∑–∞—â–∏—Ç–∏—Ç –¥–∞–Ω–Ω—ã–µ –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–π –ø–æ—Ç–µ—Ä–∏.

–Ω–∞–ø–∏—à–∏ –ø–æ–ª–Ω—ã–π –∫–æ–¥ —Å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏  (–¥–ª—è json_to_csv.py –∏ csv_to_json.py)
–í–æ—Ç –ø–æ–ª–Ω—ã–µ –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤ —Å —Ä–µ–∑–µ—Ä–≤–Ω—ã–º –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ–º, –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –¥–∞–Ω–Ω—ã—Ö –∏ –¥—Ä—É–≥–∏–º–∏ —É–ª—É—á—à–µ–Ω–∏—è–º–∏:

1. json_to_csv.py (–∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è JSON ‚Üí CSV –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
python
#!/usr/bin/env python3
# json_to_csv.py
import json
import csv
import os
import shutil
from collections import OrderedDict
from datetime import datetime

def create_backup(file_path):
    """–°–æ–∑–¥–∞—ë—Ç —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é —Ñ–∞–π–ª–∞ —Å timestamp"""
    backup_dir = "backups"
    os.makedirs(backup_dir, exist_ok=True)
    timestamp = datetime.now().strftime("%Y%m%d_%H%M%S")
    backup_name = f"{backup_dir}/{os.path.basename(file_path)}_{timestamp}.bak"
    shutil.copy2(file_path, backup_name)
    return backup_name

def json_to_csv(json_path, csv_path):
    """–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç JSON –≤ CSV –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è"""
    try:
        # –°–æ–∑–¥–∞—ë–º —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é CSV, –µ—Å–ª–∏ –æ–Ω —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
        if os.path.exists(csv_path):
            backup = create_backup(csv_path)
            print(f"üîê –°–æ–∑–¥–∞–Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è CSV: {backup}")

        with open(json_path, 'r', encoding='utf-8') as f:
            data = json.load(f, object_pairs_hook=OrderedDict)
        
        with open(csv_path, 'w', encoding='utf-8-sig', newline='') as f:
            writer = csv.writer(f, delimiter=';')
            writer.writerow(["Question", "Answer"])  # –ó–∞–≥–æ–ª–æ–≤–∫–∏
            for question, answer in data.items():
                # –≠–∫—Ä–∞–Ω–∏—Ä—É–µ–º –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫ –¥–ª—è CSV
                answer_cleaned = answer.replace('\n', '<br>')
                writer.writerow([question, answer_cleaned])
        
        print(f"‚úÖ JSON —É—Å–ø–µ—à–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –≤ {csv_path}")
        print("\nüí° –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—é:")
        print("- –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ —Ñ–æ—Ä–º–∞—Ç: –í–æ–ø—Ä–æ—Å;–û—Ç–≤–µ—Ç")
        print("- –î–ª—è –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ —Å—Ç—Ä–æ–∫ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ <br>")
        print("- –ù–µ —É–¥–∞–ª—è–π—Ç–µ –ø–µ—Ä–≤—É—é —Å—Ç—Ä–æ–∫—É —Å –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏")
        print("- –ü–æ—Å–ª–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—É—Å—Ç–∏—Ç–µ csv_to_json.py")
        
        return True

    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏: {type(e).__name__}")
        print(f"–°–æ–æ–±—â–µ–Ω–∏–µ: {str(e)}")
        return False

if __name__ == "__main__":
    import argparse
    
    parser = argparse.ArgumentParser(description='–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä JSON –≤ CSV –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è')
    parser.add_argument('--json', default='knowledge_base.json', help='–ü—É—Ç—å –∫ JSON —Ñ–∞–π–ª—É')
    parser.add_argument('--csv', default='knowledge_edit.csv', help='–ü—É—Ç—å –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è CSV')
    args = parser.parse_args()

    if not os.path.exists(args.json):
        print(f"‚ùå –§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω: {args.json}")
        exit(1)

    success = json_to_csv(args.json, args.csv)
    if not success:
        exit(1)
2. csv_to_json.py (–∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è CSV ‚Üí JSON –ø–æ—Å–ª–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
python
#!/usr/bin/env python3
# csv_to_json.py
import csv
import json
import re
import os
import shutil
from collections import OrderedDict
from datetime import datetime

def create_backup(file_path):
    """–°–æ–∑–¥–∞—ë—Ç —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é —Ñ–∞–π–ª–∞ —Å timestamp"""
    backup_dir = "backups"
    os.makedirs(backup_dir, exist_ok=True)
    timestamp = datetime.now().strftime("%Y%m%d_%H%M%S")
    backup_name = f"{backup_dir}/{os.path.basename(file_path)}_{timestamp}.bak"
    shutil.copy2(file_path, backup_name)
    return backup_name

def clean_text(text):
    """–û—á–∏—Å—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è"""
    if not text or text == 'None':
        return ""
    # –ó–∞–º–µ–Ω—è–µ–º <br> –Ω–∞ –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫
    text = text.replace('<br>', '\n')
    # –£–¥–∞–ª—è–µ–º –ª–∏—à–Ω–∏–µ –∫–∞–≤—ã—á–∫–∏
    text = re.sub(r'"+', '"', text)
    # –°—Ö–ª–æ–ø—ã–≤–∞–µ–º –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫
    text = re.sub(r'\n+', '\n', text)
    return text.strip()

def validate_entry(question, answer):
    """–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ –≤–æ–ø—Ä–æ—Å–∞ –∏ –æ—Ç–≤–µ—Ç–∞"""
    if len(question) < 3:
        raise ValueError(f"–°–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π –≤–æ–ø—Ä–æ—Å: '{question}'")
    if not answer.strip():
        raise ValueError(f"–ü—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç –¥–ª—è –≤–æ–ø—Ä–æ—Å–∞: '{question}'")
    if ';' in question:
        raise ValueError(f"–í–æ–ø—Ä–æ—Å —Å–æ–¥–µ—Ä–∂–∏—Ç –∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–π —Å–∏–º–≤–æ–ª ';': '{question}'")

def parse_csv_to_dict(csv_path):
    """–ü–∞—Ä—Å–∏–Ω–≥ CSV –≤ —Å–ª–æ–≤–∞—Ä—å —Å –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ–º –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤"""
    knowledge = OrderedDict()
    current_key = None
    current_value = []
    line_num = 1  # –î–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–æ–º–µ—Ä–∞ —Å—Ç—Ä–æ–∫–∏ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
    
    with open(csv_path, 'r', encoding='utf-8-sig') as f:
        reader = csv.reader(f, delimiter=';')
        
        # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫
        try:
            header = next(reader)
            line_num += 1
            if len(header) < 2 or header[0].lower() not in ['question', '–≤–æ–ø—Ä–æ—Å']:
                raise ValueError("CSV –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏: Question;Answer")
        except StopIteration:
            raise ValueError("CSV —Ñ–∞–π–ª –ø—É—Å—Ç–æ–π")

        for row in reader:
            line_num += 1
            if len(row) < 2:
                continue
                
            key = clean_text(row[0])
            value = clean_text(row[1])

            try:
                if key:  # –ù–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å
                    if current_key:  # –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π
                        validate_entry(current_key, '\n'.join(current_value))
                        knowledge[current_key] = '\n'.join(current_value)
                    current_key = key.lower()
                    current_value = [value] if value else []
                elif value:  # –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞
                    current_value.append(value)
            except ValueError as e:
                print(f"‚ö†Ô∏è –°—Ç—Ä–æ–∫–∞ {line_num}: {str(e)}")
                continue
    
    # –î–æ–±–∞–≤–ª—è–µ–º –ø–æ—Å–ª–µ–¥–Ω—é—é –∑–∞–ø–∏—Å—å
    if current_key:
        try:
            validate_entry(current_key, '\n'.join(current_value))
            knowledge[current_key] = '\n'.join(current_value)
        except ValueError as e:
            print(f"‚ö†Ô∏è –ü–æ—Å–ª–µ–¥–Ω—è—è –∑–∞–ø–∏—Å—å: {str(e)}")
    
    return knowledge

def main():
    import argparse
    
    parser = argparse.ArgumentParser(description='–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä CSV –≤ JSON –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π')
    parser.add_argument('--csv', default='knowledge_edit.csv', help='–ü—É—Ç—å –∫ CSV —Ñ–∞–π–ª—É')
    parser.add_argument('--json', default='knowledge_base.json', help='–ü—É—Ç—å –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è JSON')
    args = parser.parse_args()

    if not os.path.exists(args.csv):
        print(f"‚ùå –§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω: {args.csv}")
        exit(1)

    try:
        # –ó–∞–≥—Ä—É–∂–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π JSON, –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å
        existing_data = OrderedDict()
        if os.path.exists(args.json):
            with open(args.json, 'r', encoding='utf-8') as f:
                existing_data = json.load(f, object_pairs_hook=OrderedDict)
            backup = create_backup(args.json)
            print(f"üîê –°–æ–∑–¥–∞–Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è JSON: {backup}")

        print(f"üîç –ß—Ç–µ–Ω–∏–µ CSV —Ñ–∞–π–ª–∞ {args.csv}...")
        new_data = parse_csv_to_dict(args.csv)
        
        # –û–±—ä–µ–¥–∏–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ (–Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ)
        merged_data = OrderedDict()
        merged_data.update(existing_data)
        merged_data.update(new_data)
        
        print("üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ JSON...")
        with open(args.json, 'w', encoding='utf-8') as f:
            json.dump(merged_data, f, ensure_ascii=False, indent=2)
        
        print(f"‚úÖ –£—Å–ø–µ—à–Ω–æ! –û–±–Ω–æ–≤–ª—ë–Ω —Ñ–∞–π–ª: {args.json}")
        print("\nüìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:")
        print(f"- –í—Å–µ–≥–æ –≤–æ–ø—Ä–æ—Å–æ–≤: {len(merged_data)}")
        print(f"- –ù–æ–≤—ã—Ö/–æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã—Ö: {len(new_data)}")
        print(f"- –£–¥–∞–ª—ë–Ω–Ω—ã—Ö: {len(existing_data) - len(set(existing_data) - set(new_data))}")
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ (—Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö)
        from collections import Counter
        duplicates = [q for q, cnt in Counter(k.lower() for k in merged_data.keys()).items() if cnt > 1]
        if duplicates:
            print("\n‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ: –Ω–∞–π–¥–µ–Ω—ã –¥—É–±–ª–∏–∫–∞—Ç—ã (—Ä–∞–∑–Ω—ã–π —Ä–µ–≥–∏—Å—Ç—Ä):")
            for d in duplicates[:3]:
                print(f"  - {d}")
            if len(duplicates) > 3:
                print(f"  ... –∏ –µ—â—ë {len(duplicates)-3}")

    except Exception as e:
        print(f"\n‚ùå –û—à–∏–±–∫–∞: {type(e).__name__}")
        print(f"–°–æ–æ–±—â–µ–Ω–∏–µ: {str(e)}")
        print("\nüí° –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:")
        print("1. –§–æ—Ä–º–∞—Ç CSV (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å ';')")
        print("2. –ù–∞–ª–∏—á–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ Question;Answer")
        print("3. –ß—Ç–æ –Ω–µ—Ç –ø—É—Å—Ç—ã—Ö —Å—Ç—Ä–æ–∫ –≤ –≤–æ–ø—Ä–æ—Å–∞—Ö")
        exit(1)

if __name__ == "__main__":
    main()
–ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:
–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ .bak —Ñ–∞–π–ª–æ–≤ –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º

–•—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ø–∞–ø–∫–µ backups/ —Å timestamp

–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:

–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª–∏–Ω—ã –≤–æ–ø—Ä–æ—Å–æ–≤

–ó–∞–ø—Ä–µ—Ç –ø—É—Å—Ç—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤

–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã (;)

–£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:

–£–∫–∞–∑–∞–Ω–∏–µ –Ω–æ–º–µ—Ä–∞ —Å—Ç—Ä–æ–∫–∏ CSV –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

–ü–æ–¥—Ä–æ–±–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:

–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–æ–≤—ã—Ö/–æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π

–ü–æ–∏—Å–∫ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ (—Å —É—á—ë—Ç–æ–º —Ä–µ–≥–∏—Å—Ç—Ä–∞)

–ê—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏:

–ì–∏–±–∫–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ –ø—É—Ç–µ–π –∫ —Ñ–∞–π–ª–∞–º

–ü–æ–¥—Ä–æ–±–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ --help

–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
–î–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

bash
python json_to_csv.py
–ü–æ—Å–ª–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è CSV:

bash
python csv_to_json.py
–° —É–∫–∞–∑–∞–Ω–∏–µ–º —Å–≤–æ–∏—Ö –ø—É—Ç–µ–π:

bash
python json_to_csv.py --json my_data.json --csv to_edit.csv
python csv_to_json.py --csv edited.csv --json output.json
–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, –Ω–æ –¥–æ–±–∞–≤—è—Ç –∑–∞—â–∏—Ç—É –æ—Ç –æ—à–∏–±–æ–∫ –∏ —É–¥–æ–±—Å—Ç–≤–æ –¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞.

–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (editor_app.py) –Ω–∞–ø–∏—à–∏ –ø–æ–ª–Ω—ã–π –∫–æ–¥ —Å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
–í–æ—Ç –ø–æ–ª–Ω—ã–π –∫–æ–¥ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π —Å —É–ª—É—á—à–µ–Ω–∏—è–º–∏:

python
# editor_app.py
from flask import Flask, request, render_template, redirect, url_for, jsonify, flash
import json
import os
import shutil
from datetime import datetime
from markdown import markdown
from werkzeug.utils import secure_filename
import logging
from collections import OrderedDict

app = Flask(__name__)
app.secret_key = 'your-secret-key-here'  # –î–ª—è flash-—Å–æ–æ–±—â–µ–Ω–∏–π

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
JSON_PATH = "knowledge_base.json"
BACKUP_DIR = "backups"
UPLOAD_FOLDER = "uploads"
ALLOWED_EXTENSIONS = {'csv', 'json'}

os.makedirs(BACKUP_DIR, exist_ok=True)
os.makedirs(UPLOAD_FOLDER, exist_ok=True)

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏—è
logging.basicConfig(
    filename='knowledge_editor.log',
    level=logging.INFO,
    format='%(asctime)s - %(levelname)s - %(message)s'
)

def load_data():
    """–ó–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ JSON —Ñ–∞–π–ª–∞"""
    if not os.path.exists(JSON_PATH):
        return OrderedDict()
    
    try:
        with open(JSON_PATH, 'r', encoding='utf-8') as f:
            return json.load(f, object_pairs_hook=OrderedDict)
    except Exception as e:
        logging.error(f"–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ JSON: {str(e)}")
        return OrderedDict()

def save_data(data):
    """–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ JSON —Ñ–∞–π–ª —Å —Å–æ–∑–¥–∞–Ω–∏–µ–º —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏"""
    try:
        # –°–æ–∑–¥–∞–µ–º —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é
        timestamp = datetime.now().strftime("%Y%m%d_%H%M%S")
        backup_path = os.path.join(BACKUP_DIR, f"knowledge_backup_{timestamp}.json")
        if os.path.exists(JSON_PATH):
            shutil.copy2(JSON_PATH, backup_path)
            logging.info(f"–°–æ–∑–¥–∞–Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è: {backup_path}")
        
        # –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
        with open(JSON_PATH, 'w', encoding='utf-8') as f:
            json.dump(data, f, ensure_ascii=False, indent=2)
        
        return True
    except Exception as e:
        logging.error(f"–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è JSON: {str(e)}")
        return False

def allowed_file(filename):
    """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ–ø—É—Å—Ç–∏–º–æ—Å—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ–∞–π–ª–∞"""
    return '.' in filename and \
           filename.rsplit('.', 1)[1].lower() in ALLOWED_EXTENSIONS

@app.route('/')
def index():
    """–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –ø–æ–∏—Å–∫–æ–º –∏ —Å–ø–∏—Å–∫–æ–º –≤–æ–ø—Ä–æ—Å–æ–≤"""
    search_query = request.args.get('q', '').lower()
    data = load_data()
    
    if search_query:
        filtered_data = OrderedDict()
        for k, v in data.items():
            if search_query in k.lower() or search_query in v.lower():
                filtered_data[k] = v
        data = filtered_data
    
    return render_template('editor.html', 
                         questions=data,
                         search_query=search_query,
                         total_questions=len(data))

@app.route('/edit/<question>', methods=['GET', 'POST'])
def edit_question(question):
    """–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞"""
    data = load_data()
    
    if question not in data:
        flash('–í–æ–ø—Ä–æ—Å –Ω–µ –Ω–∞–π–¥–µ–Ω!', 'error')
        return redirect(url_for('index'))
    
    if request.method == 'POST':
        new_question = request.form['question'].strip().lower()
        new_answer = request.form['answer'].strip()
        
        # –í–∞–ª–∏–¥–∞—Ü–∏—è
        if not new_question or not new_answer:
            flash('–í–æ–ø—Ä–æ—Å –∏ –æ—Ç–≤–µ—Ç –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º–∏!', 'error')
        elif len(new_question) < 3:
            flash('–í–æ–ø—Ä–æ—Å —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π (–º–∏–Ω–∏–º—É–º 3 —Å–∏–º–≤–æ–ª–∞)!', 'error')
        else:
            # –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–π –≤–æ–ø—Ä–æ—Å, –µ—Å–ª–∏ –æ–Ω –∏–∑–º–µ–Ω–∏–ª—Å—è
            if new_question != question:
                del data[question]
                logging.info(f"–í–æ–ø—Ä–æ—Å –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω: '{question}' -> '{new_question}'")
            
            # –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
            data[new_question] = new_answer
            if save_data(data):
                flash('–ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ!', 'success')
                return redirect(url_for('index'))
            else:
                flash('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏!', 'error')
    
    return render_template('edit.html', 
                         question=question, 
                         answer=data[question])

@app.route('/add', methods=['GET', 'POST'])
def add_question():
    """–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞"""
    if request.method == 'POST':
        question = request.form['question'].strip().lower()
        answer = request.form['answer'].strip()
        data = load_data()
        
        # –í–∞–ª–∏–¥–∞—Ü–∏—è
        if not question or not answer:
            flash('–í–æ–ø—Ä–æ—Å –∏ –æ—Ç–≤–µ—Ç –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º–∏!', 'error')
        elif len(question) < 3:
            flash('–í–æ–ø—Ä–æ—Å —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π (–º–∏–Ω–∏–º—É–º 3 —Å–∏–º–≤–æ–ª–∞)!', 'error')
        elif question in data:
            flash('–¢–∞–∫–æ–π –≤–æ–ø—Ä–æ—Å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç!', 'error')
        else:
            data[question] = answer
            if save_data(data):
                flash('–í–æ–ø—Ä–æ—Å –¥–æ–±–∞–≤–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ!', 'success')
                return redirect(url_for('index'))
            else:
                flash('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏!', 'error')
    
    return render_template('add.html')

@app.route('/delete/<question>')
def delete_question(question):
    """–£–¥–∞–ª–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞"""
    data = load_data()
    if question in data:
        del data[question]
        if save_data(data):
            flash('–í–æ–ø—Ä–æ—Å —É–¥–∞–ª—ë–Ω —É—Å–ø–µ—à–Ω–æ!', 'success')
            logging.info(f"–£–¥–∞–ª—ë–Ω –≤–æ–ø—Ä–æ—Å: '{question}'")
        else:
            flash('–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏!', 'error')
    else:
        flash('–í–æ–ø—Ä–æ—Å –Ω–µ –Ω–∞–π–¥–µ–Ω!', 'error')
    
    return redirect(url_for('index'))

@app.route('/import', methods=['GET', 'POST'])
def import_data():
    """–ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ñ–∞–π–ª–∞"""
    if request.method == 'POST':
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —Ñ–∞–π–ª –≤ –∑–∞–ø—Ä–æ—Å–µ
        if 'file' not in request.files:
            flash('–§–∞–π–ª –Ω–µ –≤—ã–±—Ä–∞–Ω!', 'error')
            return redirect(request.url)
        
        file = request.files['file']
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏–º—è —Ñ–∞–π–ª–∞
        if file.filename == '':
            flash('–§–∞–π–ª –Ω–µ –≤—ã–±—Ä–∞–Ω!', 'error')
            return redirect(request.url)
        
        if file and allowed_file(file.filename):
            filename = secure_filename(file.filename)
            filepath = os.path.join(UPLOAD_FOLDER, filename)
            file.save(filepath)
            
            try:
                new_data = OrderedDict()
                if filename.endswith('.json'):
                    with open(filepath, 'r', encoding='utf-8') as f:
                        new_data = json.load(f, object_pairs_hook=OrderedDict)
                elif filename.endswith('.csv'):
                    import csv
                    with open(filepath, 'r', encoding='utf-8-sig') as f:
                        reader = csv.reader(f, delimiter=';')
                        next(reader)  # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫
                        for row in reader:
                            if len(row) >= 2:
                                question = row[0].strip().lower()
                                answer = row[1].replace('<br>', '\n').strip()
                                if question and answer:
                                    new_data[question] = answer
                
                # –û–±—ä–µ–¥–∏–Ω—è–µ–º —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏
                data = load_data()
                data.update(new_data)
                
                if save_data(data):
                    flash(f'–£—Å–ø–µ—à–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ {len(new_data)} –≤–æ–ø—Ä–æ—Å–æ–≤!', 'success')
                    logging.info(f"–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ {len(new_data)} –≤–æ–ø—Ä–æ—Å–æ–≤ –∏–∑ {filename}")
                else:
                    flash('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö!', 'error')
                
            except Exception as e:
                flash(f'–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Ñ–∞–π–ª–∞: {str(e)}', 'error')
                logging.error(f"–û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞: {str(e)}")
            
            # –£–¥–∞–ª—è–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª
            os.remove(filepath)
            return redirect(url_for('index'))
    
    return render_template('import.html')

@app.route('/export')
def export_data():
    """–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ JSON —Ñ–∞–π–ª"""
    data = load_data()
    timestamp = datetime.now().strftime("%Y%m%d_%H%M%S")
    filename = f"knowledge_export_{timestamp}.json"
    filepath = os.path.join(UPLOAD_FOLDER, filename)
    
    try:
        with open(filepath, 'w', encoding='utf-8') as f:
            json.dump(data, f, ensure_ascii=False, indent=2)
        
        logging.info(f"–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ {len(data)} –≤–æ–ø—Ä–æ—Å–æ–≤ –≤ {filename}")
        return jsonify({
            'status': 'success',
            'filename': filename,
            'count': len(data)
        })
    except Exception as e:
        logging.error(f"–û—à–∏–±–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞: {str(e)}")
        return jsonify({'status': 'error', 'message': str(e)})

@app.route('/download/<filename>')
def download_file(filename):
    """–°–∫–∞—á–∏–≤–∞–Ω–∏–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞"""
    filepath = os.path.join(UPLOAD_FOLDER, filename)
    if os.path.exists(filepath):
        return send_file(filepath, as_attachment=True)
    else:
        flash('–§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω!', 'error')
        return redirect(url_for('index'))

@app.template_filter('markdown')
def markdown_filter(text):
    """–§–∏–ª—å—Ç—Ä –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è Markdown –≤ HTML"""
    return markdown(text)

if __name__ == '__main__':
    app.run(host='0.0.0.0', port=5000, debug=True)
–®–∞–±–ª–æ–Ω—ã (–ø–∞–ø–∫–∞ templates/):
base.html (–±–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω):

html
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–µ–¥–∞–∫—Ç–æ—Ä –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .question-card { margin-bottom: 20px; }
        .answer-content { white-space: pre-wrap; }
        .markdown-content img { max-width: 100%; }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="/">–†–µ–¥–∞–∫—Ç–æ—Ä –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π</a>
            <div class="d-flex">
                <a href="{{ url_for('add_question') }}" class="btn btn-success me-2">+ –î–æ–±–∞–≤–∏—Ç—å</a>
                <a href="{{ url_for('import_data') }}" class="btn btn-primary">–ò–º–ø–æ—Ä—Ç</a>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }} alert-dismissible fade show">
                        {{ message }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        {% block content %}{% endblock %}
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    {% block scripts %}{% endblock %}
</body>
</html>
editor.html (–≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞):

html
{% extends "base.html" %}

{% block content %}
<div class="row mb-4">
    <div class="col-md-6">
        <form action="{{ url_for('index') }}" method="get">
            <div class="input-group">
                <input type="text" class="form-control" name="q" value="{{ search_query }}" placeholder="–ü–æ–∏—Å–∫...">
                <button class="btn btn-outline-secondary" type="submit">–ù–∞–π—Ç–∏</button>
                {% if search_query %}
                    <a href="{{ url_for('index') }}" class="btn btn-outline-danger">–°–±—Ä–æ—Å</a>
                {% endif %}
            </div>
        </form>
    </div>
    <div class="col-md-6 text-end">
        <span class="badge bg-info">–í—Å–µ–≥–æ –≤–æ–ø—Ä–æ—Å–æ–≤: {{ total_questions }}</span>
        <button class="btn btn-sm btn-outline-secondary ms-2" onclick="exportData()">–≠–∫—Å–ø–æ—Ä—Ç</button>
    </div>
</div>

{% if questions %}
<div class="list-group">
    {% for question, answer in questions.items() %}
    <div class="list-group-item question-card">
        <div class="d-flex justify-content-between">
            <h5>{{ question }}</h5>
            <div>
                <a href="{{ url_for('edit_question', question=question) }}" class="btn btn-sm btn-warning">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
                <a href="{{ url_for('delete_question', question=question) }}" class="btn btn-sm btn-danger" 
                   onclick="return confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –≤–æ–ø—Ä–æ—Å?')">–£–¥–∞–ª–∏—Ç—å</a>
            </div>
        </div>
        <div class="answer-content markdown-content mt-2">
            {{ answer|markdown|safe }}
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<div class="alert alert-info">
    {% if search_query %}
        –í–æ–ø—Ä–æ—Å—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å.
    {% else %}
        –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –ø—É—Å—Ç–∞. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å!
    {% endif %}
</div>
{% endif %}

<script>
function exportData() {
    fetch("{{ url_for('export_data') }}")
        .then(response => response.json())
        .then(data => {
            if (data.status === 'success') {
                window.location.href = `/download/${data.filename}`;
            } else {
                alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ: ' + data.message);
            }
        });
}
</script>
{% endblock %}
edit.html (—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞):

html
{% extends "base.html" %}

{% block content %}
<h2>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞</h2>
<form method="POST">
    <div class="mb-3">
        <label for="question" class="form-label">–í–æ–ø—Ä–æ—Å</label>
        <input type="text" class="form-control" id="question" name="question" value="{{ question }}" required>
    </div>
    <div class="mb-3">
        <label for="answer" class="form-label">–û—Ç–≤–µ—Ç</label>
        <textarea class="form-control" id="answer" name="answer" rows="8" required>{{ answer }}</textarea>
        <div class="form-text">–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è Markdown-—Ä–∞–∑–º–µ—Ç–∫–∞</div>
    </div>
    <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    <a href="{{ url_for('index') }}" class="btn btn-secondary">–û—Ç–º–µ–Ω–∞</a>
</form>
{% endblock %}
add.html (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞):

html
{% extends "base.html" %}

{% block content %}
<h2>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞</h2>
<form method="POST">
    <div class="mb-3">
        <label for="question" class="form-label">–í–æ–ø—Ä–æ—Å</label>
        <input type="text" class="form-control" id="question" name="question" required>
    </div>
    <div class="mb-3">
        <label for="answer" class="form-label">–û—Ç–≤–µ—Ç</label>
        <textarea class="form-control" id="answer" name="answer" rows="8" required></textarea>
        <div class="form-text">–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è Markdown-—Ä–∞–∑–º–µ—Ç–∫–∞</div>
    </div>
    <button type="submit" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å</button>
    <a href="{{ url_for('index') }}" class="btn btn-secondary">–û—Ç–º–µ–Ω–∞</a>
</form>
{% endblock %}
import.html (–∏–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö):

html
{% extends "base.html" %}

{% block content %}
<h2>–ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö</h2>
<div class="card">
    <div class="card-body">
        <form method="POST" enctype="multipart/form-data">
            <div class="mb-3">
                <label for="file" class="form-label">–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª (CSV –∏–ª–∏ JSON)</label>
                <input class="form-control" type="file" id="file" name="file" accept=".csv,.json" required>
                <div class="form-text">
                    –§–æ—Ä–º–∞—Ç CSV: —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å - —Ç–æ—á–∫–∞ —Å –∑–∞–ø—è—Ç–æ–π (;), –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ - –∑–∞–≥–æ–ª–æ–≤–∫–∏<br>
                    –§–æ—Ä–º–∞—Ç JSON: –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–ª–æ–≤–∞—Ä–µ–º {–≤–æ–ø—Ä–æ—Å: –æ—Ç–≤–µ—Ç}
                </div>
            </div>
            <button type="submit" class="btn btn-primary">–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
            <a href="{{ url_for('index') }}" class="btn btn-secondary">–û—Ç–º–µ–Ω–∞</a>
        </form>
    </div>
</div>
{% endblock %}
–ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å:
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

bash
pip install flask markdown
–°–æ–∑–¥–∞–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫:

text
your_project/
‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îú‚îÄ‚îÄ base.html
‚îÇ   ‚îú‚îÄ‚îÄ editor.html
‚îÇ   ‚îú‚îÄ‚îÄ edit.html
‚îÇ   ‚îú‚îÄ‚îÄ add.html
‚îÇ   ‚îî‚îÄ‚îÄ import.html
‚îú‚îÄ‚îÄ backups/
‚îú‚îÄ‚îÄ uploads/
‚îú‚îÄ‚îÄ knowledge_base.json
‚îî‚îÄ‚îÄ editor_app.py
–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:

bash
python editor_app.py
–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

text
http://localhost:5000
–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
–ü—Ä–æ—Å–º–æ—Ç—Ä –∏ –ø–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º –≤–æ–ø—Ä–æ—Å–∞–º

–î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤

–ü–æ–¥–¥–µ—Ä–∂–∫–∞ Markdown –≤ –æ—Ç–≤–µ—Ç–∞—Ö

–ò–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö (CSV –∏ JSON)

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π

–í–∞–ª–∏–¥–∞—Ü–∏—è –≤–≤–æ–¥–∏–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö

–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ Bootstrap 5

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–µ–Ω –∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∑–Ω–∞–Ω–∏–π –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –∑–Ω–∞–Ω–∏–π.

–æ—Ç–ª–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç. –ù–∞–ø–∏—à–∏ –ø–æ–Ω—è—Ç–Ω—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ –¥–µ–π—Å—Ç–≤–∏—è–º —Å –≤–Ω–µ—Å–µ–Ω–∏–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –±–∞–∑—É –Ω–∞—á–∏–Ω–∞—è —Å –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∏ –∑–∞–∫–∞–Ω—á–∏–≤–∞—è –∑–∞–ø—É—Å–∫–æ–º python editor_app.py
–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–±–æ—Ç–µ —Å –±–∞–∑–æ–π –∑–Ω–∞–Ω–∏–π FunLand
–≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –±–µ–∑–æ–ø–∞—Å–Ω–æ –≤–Ω–æ—Å–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π —á–µ—Ä–µ–∑ CSV-—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–ª–∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

üìå –í–∞—Ä–∏–∞–Ω—Ç 1: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ CSV (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –º–∞—Å—Å–æ–≤—ã—Ö –ø—Ä–∞–≤–æ–∫)
1. –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è JSON ‚Üí CSV –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –≤ –ø–∞–ø–∫–µ —Å —Ñ–∞–π–ª–∞–º–∏ –ø—Ä–æ–µ–∫—Ç–∞.

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:

bash
python json_to_csv.py
–°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª knowledge_edit.csv –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—É—â–µ–π –±–∞–∑—ã (knowledge_base.json).

–†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è JSON –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ –ø–∞–ø–∫–µ backups/.

2. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ CSV
–û—Ç–∫—Ä–æ–π—Ç–µ knowledge_edit.csv –≤:

Excel (–¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞)

Google Sheets (–¥–ª—è —Å–æ–≤–º–µ—Å—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã)

Notepad++ (–¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö:

–°—Ç–æ–ª–±–µ—Ü A: –í–æ–ø—Ä–æ—Å—ã (–Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏).

–°—Ç–æ–ª–±–µ—Ü B: –û—Ç–≤–µ—Ç—ã (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ <br> –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ —Å—Ç—Ä–æ–∫–∏).

–ü—Ä–∏–º–µ—Ä:

text
–ø—Ä–∏–≤–µ—Ç;üëã –ü—Ä–∏–≤–µ—Ç! –†–∞–¥ –≤–∞—Å –≤–∏–¥–µ—Ç—å –≤ FunLand!<br>–ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?
3. –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è CSV ‚Üí JSON
–ü–æ—Å–ª–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

bash
python csv_to_json.py
–°–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–∏—Ç knowledge_base.json –∏ —Å–æ–∑–¥–∞—Å—Ç —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é.

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫.

üåê –í–∞—Ä–∏–∞–Ω—Ç 2: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
1. –ó–∞–ø—É—Å–∫ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

bash
python editor_app.py
–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

text
http://localhost:5000
2. –û—Å–Ω–æ–≤–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
–î–æ–±–∞–≤–∏—Ç—å –≤–æ–ø—Ä–æ—Å: –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "+ –î–æ–±–∞–≤–∏—Ç—å".

–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å: –ù–∞–∂–º–∏—Ç–µ "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å" –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–µ –≤–æ–ø—Ä–æ—Å–∞.

–£–¥–∞–ª–∏—Ç—å: –ù–∞–∂–º–∏—Ç–µ "–£–¥–∞–ª–∏—Ç—å" (–ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ).

–ü–æ–∏—Å–∫: –í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –≤ –ø–æ–ª–µ –ø–æ–∏—Å–∫–∞.

–ò–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –≤ –≤–µ—Ä—Ö–Ω–µ–º –º–µ–Ω—é.

3. –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –≤–µ–±-—Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
–ü–æ–¥–¥–µ—Ä–∂–∫–∞ Markdown (–∂–∏—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç, —Å–ø–∏—Å–∫–∏, —Å—Å—ã–ª–∫–∏).

–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å —Ä–µ–∑–µ—Ä–≤–Ω—ã–º–∏ –∫–æ–ø–∏—è–º–∏.

–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—É—Å—Ç—ã—Ö –ø–æ–ª–µ–π).

üõ†Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
–ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
–ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ —Ñ–∞–π–ª –≤ —Ñ–æ—Ä–º–∞—Ç–µ:

CSV (—Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å ;, –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ ‚Äî –∑–∞–≥–æ–ª–æ–≤–∫–∏).

JSON (–≤ —Ñ–æ—Ä–º–∞—Ç–µ {"–≤–æ–ø—Ä–æ—Å": "–æ—Ç–≤–µ—Ç"}).

–í –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –Ω–∞–∂–º–∏—Ç–µ "–ò–º–ø–æ—Ä—Ç" –∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª.

–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
–í –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –Ω–∞–∂–º–∏—Ç–µ "–≠–∫—Å–ø–æ—Ä—Ç" ‚Üí —Å–∫–∞—á–∞–µ—Ç—Å—è JSON-—Ñ–∞–π–ª.

‚ùó –í–∞–∂–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞
–†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏:

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ backups/.

–ü–µ—Ä–µ–¥ –º–∞—Å—Å–æ–≤—ã–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Å–¥–µ–ª–∞–π—Ç–µ —Ä—É—á–Ω—É—é –∫–æ–ø–∏—é knowledge_base.json.

–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

–î–ª—è –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ —Å—Ç—Ä–æ–∫ –≤ CSV –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ <br>.

–í –≤–µ–±-—Ä–µ–¥–∞–∫—Ç–æ—Ä–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Markdown (**—Ç–µ–∫—Å—Ç** –¥–ª—è –∂–∏—Ä–Ω–æ–≥–æ).

–ü—Ä–æ–≤–µ—Ä–∫–∞:

–ü–æ—Å–ª–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è CSV –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ.

–í –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ —á–∏—Ç–∞–π—Ç–µ flash-—Å–æ–æ–±—â–µ–Ω–∏—è (–∑–µ–ª—ë–Ω—ã–µ/–∫—Ä–∞—Å–Ω—ã–µ).

üîß –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫
–û—Ç–∫–∞—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π:

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª –∏–∑ backups/ –≤ –æ—Å–Ω–æ–≤–Ω—É—é –ø–∞–ø–∫—É:

bash
cp backups/knowledge_backup_20240315_1423.json knowledge_base.json
–û—à–∏–±–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ:

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

bash
pip install flask markdown
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª—ã knowledge_base.json –∏ knowledge_edit.csv —Å—É—â–µ—Å—Ç–≤—É—é—Ç.

‚úÖ –ì–æ—Ç–æ–≤–æ!
–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑—É –∑–Ω–∞–Ω–∏–π –ª—é–±—ã–º —É–¥–æ–±–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º. –î–ª—è —Å–ª–æ–∂–Ω—ã—Ö –ø—Ä–∞–≤–æ–∫ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ CSV, –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö ‚Äî –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å